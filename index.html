<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chegg ESG Dashboard</title>
  <!-- ---- Äoáº¡n code CSS Ä‘á»‹nh dáº¡ng giao diá»‡n ---- -->
  <style>
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }
    h1 {
      margin-bottom: 20px;
    }
    /* Äá»‹nh dáº¡ng thanh Ä‘iá»u hÆ°á»›ng (nav) */
    nav {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    nav button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    nav button:hover {
      background: #0056b3;
    }
    /* Äá»‹nh dáº¡ng cÃ¡c tab ná»™i dung */
    .tab {
      display: none;
    }
    .tab.active {
      display: block;
    }
    /* Äá»‹nh dáº¡ng tÃ i liá»‡u (dÃ¹ng cho tab khÃ¡c náº¿u cÃ³) */
    .document {
      margin-bottom: 20px;
      padding: 15px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
    }
    .document h3 {
      margin: 0 0 10px;
      color: #007bff;
      cursor: pointer;
    }
    .document-content {
      display: none;
      padding-top: 10px;
      white-space: pre-line;
    }
    /* Äá»‹nh dáº¡ng chatbox */
    .chatbox {
      margin-top: 30px;
      padding: 15px;
      background: #e9f1fb;
      border-radius: 8px;
    }
    .chatbox input {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    /* Äá»‹nh dáº¡ng khu vá»±c hiá»ƒn thá»‹ tin nháº¯n chat */
    .chat-response {
      margin-top: 10px;
      background: #fff;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      display: none; /* áº¨n máº·c Ä‘á»‹nh */
    }
    .chat-response.active {
      display: block; /* Hiá»ƒn thá»‹ khi cÃ³ ná»™i dung */
    }
    .chat-response .chat-message {
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 6px;
    }
    .chat-response .user-message {
      background: #f0f0f0;
      font-weight: bold;
    }
    .chat-response .bot-message {
      background: #ffffff;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <!-- ---- Äoáº¡n code tiÃªu Ä‘á» trang ---- -->
  <h1>ğŸ“˜ Chegg ESG Dashboard</h1>

  <!-- ---- Äoáº¡n code thanh Ä‘iá»u hÆ°á»›ng (nav) ---- -->
  <nav>
    <button data-tab="policies">ESG Policies</button>
    <button data-tab="reports">ESG Reports & Data</button>
    <button data-tab="resources">Helpful Resources</button>
  </nav>

  <!-- ---- Äoáº¡n code tab ESG Policies (chá»‰ chá»©a chatbox) ---- -->
  <div id="tab-policies" class="tab">
    <div class="chatbox">
      <input type="text" id="chat-input" placeholder="Ask about ESG policies... (e.g., child labor, emissions, bribery...)" onkeydown="if(event.key==='Enter') handleChat()">
      <div id="chat-response" class="chat-response"></div>
    </div>
  </div>

  <!-- ---- Äoáº¡n code tab ESG Reports & Data ---- -->
  <div id="tab-reports" class="tab">
    <h2>ğŸ“ˆ ESG Reports & Data</h2>
    <p>This section will be updated when report files are added.</p>
  </div>

  <!-- ---- Äoáº¡n code tab Helpful Resources ---- -->
  <div id="tab-resources" class="tab">
    <h2>ğŸ”— Helpful Resources</h2>
    <p>This will display useful links or files once added.</p>
  </div>

  <!-- ---- Äoáº¡n code JavaScript xá»­ lÃ½ logic ---- -->
  <script>
    // HÃ m thiáº¿t láº­p chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c tab
    function setupTabs() {
      document.querySelectorAll('nav button').forEach(button => {
        button.addEventListener('click', () => {
          document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
          const id = button.getAttribute('data-tab');
          const selectedTab = document.getElementById(`tab-${id}`);
          if (selectedTab) selectedTab.classList.add('active');
        });
      });
    }

    // HÃ m xá»­ lÃ½ má»Ÿ/Ä‘Ã³ng ná»™i dung tÃ i liá»‡u (hiá»‡n khÃ´ng dÃ¹ng nhÆ°ng giá»¯ láº¡i)
    function setupDocumentToggle() {
      document.addEventListener('click', (e) => {
        if (e.target.matches('.document h3')) {
          const content = e.target.nextElementSibling;
          if (content) content.style.display = content.style.display === 'none' ? 'block' : 'none';
        }
      });
    }

    // CÆ¡ sá»Ÿ dá»¯ liá»‡u cho chatbox (danh sÃ¡ch tá»« khÃ³a vÃ  cÃ¢u tráº£ lá»i)
    const knowledgeBase = [
      {
        keywords: ["emissions", "scope 1", "scope 2", "phÃ¡t tháº£i", "khÃ­ tháº£i"],
        answer: "According to the Environmental Policy, Chegg measures Scope 1 & 2 emissions and commits to sustainability."
      },
      {
        keywords: ["child labor", "forced labor", "lao Ä‘á»™ng tráº» em", "cÆ°á»¡ng bá»©c lao Ä‘á»™ng"],
        answer: "The Supplier Code of Conduct strictly prohibits child labor and forced labor."
      },
      {
        keywords: ["materiality", "assessment", "important", "Ä‘Ã¡nh giÃ¡", "váº¥n Ä‘á» trá»ng yáº¿u"],
        answer: "Read the Materiality Assessment Summary to understand how Chegg defines ESG significance across stakeholders."
      }
    ];

    // HÃ m xá»­ lÃ½ logic chatbox
    function handleChat() {
      const inputEl = document.getElementById("chat-input");
      if (!inputEl) return;
      const input = inputEl.value;
      if (!input.trim()) return;

      const chatResponse = document.getElementById("chat-response");
      let found = false;

      for (const item of knowledgeBase) {
        if (item.keywords.some(k => input.toLowerCase().includes(k))) {
          const userMessage = `<div class="chat-message user-message">You: ${input}</div>`;
          const botMessage = `<div class="chat-message bot-message">ğŸ§  ${item.answer}</div>`;
          chatResponse.innerHTML = userMessage + botMessage + chatResponse.innerHTML;
          found = true;
          break;
        }
      }

      if (!found) {
        const userMessage = `<div class="chat-message user-message">You: ${input}</div>`;
        const botMessage = `<div class="chat-message bot-message">â— No relevant content found. Try another keyword or refer to the documents above.</div>`;
        chatResponse.innerHTML = userMessage + botMessage + chatResponse.innerHTML;
      }

      // Hiá»ƒn thá»‹ khu vá»±c chat-response khi cÃ³ ná»™i dung
      chatResponse.classList.add('active');
      inputEl.value = "";
    }

    // Khá»Ÿi táº¡o khi trang táº£i
    document.addEventListener('DOMContentLoaded', () => {
      setupTabs();
      setupDocumentToggle();
    });
  </script>
</body>
</html>
